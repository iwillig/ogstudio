# this sets up a reference that allows use to define the style object
# sperate from the configuration object
planet_osm_line: &line
  name: Style for planet osm line data
  feature-styles:
    - rules:
        - where: highway = 'motorway'
          min:  216281.17309570312 # zoom level 11
          symbolizers:
            line:
              stroke:
                width: 1
                color: '#000000'
        - where: highway = 'motorway' or highway = 'motoroway_link'
          max: 216280.17309570312
          symbolizers:
            line:
              stroke:
                width: 10
                color: '#000000'

test: &test
  name:
  feature-styles:
    - rules:
      - symbolizers:
          line:
            color: '#eeeeee'

# define the data stores for the map
datastores:
  - name: osm
    type: postgis

# define the style configuration objects
styles:
  - name: planet_osm_line
    type: yaml
    body: *line
  - name: test
    type: yaml
    body: *test

tables:
  - name: planet_osm_line
    datastore: osm

  - name: planet_osm_point
    datastore: osm

  - name: planet_osm_roads
    datastore: osm

  - name: planet_osm_line
    datastore: osm

# define the map objects, the important stuff
maps:
  - name: osm light
    bgcolor: '#ffffff'
    epsg: 4326
    bbox: [-79.8589395,40.3956803,-71.8420291,45.1157015]
    layers:
      - table: planet_osm_roads
        style: planet_osm_line
